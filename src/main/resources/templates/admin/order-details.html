<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Order Details - DSS</title>
    <link rel="stylesheet" th:href="@{/css/neo-dashboard.css}" />
  </head>
  <body>
    <nav class="navbar">
      <div class="navbar-brand">DSS Admin · Order details</div>
      <div class="navbar-user">
        <a th:href="@{/admin/orders}" class="btn-link">Back to orders</a>
        <button class="btn-link" onclick="window.print()">Print</button>
      </div>
    </nav>

    <div class="container">
      <section class="detail-hero">
        <div>
          <p class="segment-label">Invoice</p>
          <h1>
            <code class="code-pill" th:text="${order.invoiceNo}">123456</code>
            <span
              class="status-pill"
              th:classappend="${#strings.equalsIgnoreCase(order.status, 'Completed')} ? ' success' : ' danger'"
              th:text="${order.status}"
              >Completed</span
            >
          </h1>
          <p>
            <span th:text="${order.invoiceDate}">2010-12-01</span>
            ·
            <span th:text="${order.country}">United Kingdom</span>
          </p>
        </div>
      </section>

      <div class="detail-grid">
        <article class="detail-card">
          <h2>Order context</h2>
          <ul class="detail-list">
            <li>
              <span class="detail-label">Customer</span>
              <span class="detail-value">
                <a th:href="@{/admin/customers/{id}(id=${order.customerId})}" th:text="${order.customerId}">17850</a>
              </span>
            </li>
            <li>
              <span class="detail-label">Day of week</span>
              <span class="detail-value" th:text="${order.dayOfWeek}">Wednesday</span>
            </li>
            <li>
              <span class="detail-label">Time of day</span>
              <span class="detail-value" th:text="${order.timeOfDay}">Morning</span>
            </li>
          </ul>
        </article>
      </div>

      <div class="dashboard-grid">
        <article class="stat-card">
          <div class="stat-card-title">Total items</div>
          <div class="stat-card-value" th:text="${#numbers.formatInteger(order.totalItems, 0, 'COMMA')}">12</div>
        </article>
        <article class="stat-card">
          <div class="stat-card-title">Unique products</div>
          <div class="stat-card-value" th:text="${order.uniqueProducts}">3</div>
        </article>
        <article class="stat-card">
          <div class="stat-card-title">Order total</div>
          <div class="stat-card-value" th:text="${'$' + #numbers.formatDecimal(order.totalAmount, 0, 'COMMA', 2, 'POINT')}">$139.12</div>
        </article>
      </div>

      <section class="table-card items-section">
        <h2>Order items</h2>
        <div class="table-wrapper">
          <table class="data-table">
            <thead>
              <tr>
                <th>Stock code</th>
                <th>Description</th>
                <th>Quantity</th>
                <th>Unit price</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="item : ${order.items}">
                <td>
                  <code class="code-pill" th:text="${item.stockCode}">85123A</code>
                  <span class="metric-badge" th:if="${item.isCancelled}">Cancelled</span>
                </td>
                <td th:text="${item.description}">WHITE HANGING HEART T-LIGHT HOLDER</td>
                <td th:text="${#numbers.formatInteger(item.quantity, 0, 'COMMA')}">6</td>
                <td th:text="${'$' + #numbers.formatDecimal(item.unitPrice, 0, 'COMMA', 2, 'POINT')}">$2.55</td>
                <td th:text="${'$' + #numbers.formatDecimal(item.totalPrice, 0, 'COMMA', 2, 'POINT')}">$15.30</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </div>
  </body>
</html>
