<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Details - DSS</title>
    <link rel="stylesheet" th:href="@{/css/neo-dashboard.css}" />
  </head>
  <body>
    <nav class="navbar">
      <div class="navbar-brand">DSS Admin · Product details</div>
      <div class="navbar-user">
        <a th:href="@{/admin/products}" class="btn-link">Back to products</a>
        <a th:href="@{/admin/dashboard}" class="btn-link">Dashboard</a>
      </div>
    </nav>

    <div class="container">
      <section class="detail-hero">
        <div>
          <p class="segment-label">Stock code</p>
          <h1>
            <code class="code-pill" th:text="${product.stockCode}">10001</code>
          </h1>
          <p th:text="${product.description}">Product description</p>
        </div>
      </section>

      <div class="dashboard-grid">
        <article class="stat-card">
          <div class="stat-card-title">Total revenue</div>
          <div class="stat-card-value" th:text="${'$' + #numbers.formatDecimal(product.totalRevenue, 0, 'COMMA', 0, 'POINT')}">$10,000</div>
        </article>
        <article class="stat-card">
          <div class="stat-card-title">Units sold</div>
          <div class="stat-card-value" th:text="${#numbers.formatInteger(product.totalQuantitySold, 0, 'COMMA')}">1,000</div>
        </article>
        <article class="stat-card">
          <div class="stat-card-title">Transactions</div>
          <div class="stat-card-value" th:text="${#numbers.formatInteger(product.totalTransactions, 0, 'COMMA')}">50</div>
        </article>
        <article class="stat-card">
          <div class="stat-card-title">Unique customers</div>
          <div class="stat-card-value" th:text="${product.uniqueCustomers}">25</div>
        </article>
      </div>

      <div class="detail-grid">
        <article class="detail-card">
          <h2>Commercial metrics</h2>
          <ul class="detail-list">
            <li>
              <span class="detail-label">Average unit price</span>
              <span class="detail-value" th:text="${'$' + #numbers.formatDecimal(product.averagePrice, 0, 'COMMA', 2, 'POINT')}">$10.00</span>
            </li>
            <li>
              <span class="detail-label">Units / transaction</span>
              <span class="detail-value" th:text="${#numbers.formatDecimal(product.totalQuantitySold / product.totalTransactions, 0, 'COMMA', 2, 'POINT')}">20</span>
            </li>
            <li>
              <span class="detail-label">Revenue / customer</span>
              <span class="detail-value" th:text="${'$' + #numbers.formatDecimal(product.totalRevenue / product.uniqueCustomers, 0, 'COMMA', 2, 'POINT')}">$400</span>
            </li>
          </ul>
        </article>
      </div>

      <article class="detail-card" th:if="${product.minPrice != null and product.maxPrice != null}">
        <h2>Price range analysis</h2>
        <ul class="detail-list">
          <li>
            <span class="detail-label">Min price</span>
            <span class="detail-value" th:text="${'$' + #numbers.formatDecimal(product.minPrice, 0, 'COMMA', 2, 'POINT')}">$5.00</span>
          </li>
          <li>
            <span class="detail-label">Avg price</span>
            <span class="detail-value" th:text="${'$' + #numbers.formatDecimal(product.averagePrice, 0, 'COMMA', 2, 'POINT')}">$10.00</span>
          </li>
          <li>
            <span class="detail-label">Max price</span>
            <span class="detail-value" th:text="${'$' + #numbers.formatDecimal(product.maxPrice, 0, 'COMMA', 2, 'POINT')}">$15.00</span>
          </li>
          <li>
            <span class="detail-label">Variance</span>
            <span class="detail-value" th:text="${'$' + #numbers.formatDecimal(product.maxPrice - product.minPrice, 0, 'COMMA', 2, 'POINT')}">$10.00</span>
          </li>
        </ul>
        <div class="insight-guide" style="margin-top: 16px;">
          <p class="insight-guide-title">Pricing insight</p>
          <p>
            This SKU has sold between
            <strong th:text="${'$' + #numbers.formatDecimal(product.minPrice, 0, 'COMMA', 2, 'POINT')}">$5.00</strong>
            and
            <strong th:text="${'$' + #numbers.formatDecimal(product.maxPrice, 0, 'COMMA', 2, 'POINT')}">$15.00</strong>.
            <span th:if="${(product.maxPrice - product.minPrice) / product.averagePrice > 0.5}">
              A wide band suggests promotional or regional pricing opportunities.
            </span>
            <span th:if="${(product.maxPrice - product.minPrice) / product.averagePrice <= 0.5}">
              Pricing has remained tight, indicating stable positioning.
            </span>
          </p>
        </div>
      </article>
    </div>
  </body>
</html>
